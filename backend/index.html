{% extends "base.html" %}

{% block title %}Главная - Вакансионный сайт{% endblock %}

{% block content %}
    <h2>Категории вакансий</h2>
    
    {% if categories %}
        <div class="categories-grid">
            {% for category in categories %}
                <div class="category-card">
                    <h3>{{ category.name }}</h3>
                    
                    {% if category.subcategories %}
                        <div class="subcategories-list">
                            {% for subcategory in category.subcategories %}
                                <a href="{{ url_for('subcategory_vacancies', 
                                                  category_id=category.id,
                                                  subcategory_id=subcategory.id) }}"
                                   class="subcategory-item">
                                    {{ subcategory.name }}
                                    <span class="vacancy-count">
                                       {{ subcategory.vacancies_count }}
                                    </span>
                                </a>
                            {% endfor %}
                        </div>
                    {% else %}
                        <p>Нет подкатегорий</p>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>Пока нет категорий</p>
    {% endif %}
{% endblock %}